!function(t,e,i,s){"use strict";function n(e,i){this.$el=t(e),this.$target,this.$el.data(o,this);this.$el.data(o+"-opts");this.defaults={easing:"swing",speed:300,"max-width":0,cycle:!1,scroller:"",before:function(t,e){return!1},after:function(t,e){return!1}},this.o=t.extend(!0,this.defaults,i),this.init()}var o="milk-onepage-scroll",a={init:function(t){return this.each(function(e,i){new n(this,t)})}};t.fn.milkOnePageScroll=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("La methode "+e+" n'existe pas pour jQuery.milkOnePageScroll"):a.init.apply(this,arguments)},n.prototype={init:function(){t("section.active",this.$el).length||(this.$target=t("section:first",this.$el).addClass("active")),this._listen()},_listen:function(){this._nav(),this._mouseWheel(),this._resize()},_nav:function(){var e,i=this;if((e=document.URL.split("#"))&&e[1]!=s){var n="#"+e[1];i.$target=t(n),i._scrollTo()}t(document).on("click.onepagescroll.target","a[data-pagescroll='target']",function(e){if(e.preventDefault(),i.$el.is(":animated"))return!1;var s=t(this).attr("href");return!t(s).hasClass("active")&&(i.$target=t(s),!!i.$target.length&&(i.o.before(i.$target,i),void i._scrollTo()))}),t(document).on("click.onepagescroll.prev","a[data-pagescroll='prev']",function(t){t.preventDefault(),i._prev()}),t(document).on("click.onepagescroll.next","a[data-pagescroll='next']",function(t){t.preventDefault(),i._next()})},_scrollTo:function(){var e=this,i=e.$target.index(),s=t("section.active",e.$el).index(),n=Math.abs(s-i),o=Math.abs(e.o.speed*n),a=e.$target.height()*i;t("section",e.$el).removeClass("active"),e.$el.stop().animate({marginTop:-a+"px"},o,e.o.easing,function(){e.$target.addClass("active"),e.o.after(e.$target,e)})},_prev:function(){if(this.$el.is(":animated"))return!1;if(t("section.active",this.$el).length)if(t("section.active",this.$el).is(":first-child")){if(!this.o.cycle)return!1;this.$target=t("section:last")}else this.$target=t("section.active").prev();else{if(!this.o.cycle)return!1;this.$target=t("section:last")}this.o.before(this.$target,this),this._scrollTo()},_next:function(){if(this.$el.is(":animated"))return!1;if(t("section.active",this.$el).length)if(t("section.active",this.$el).is(":last-child")){if(!this.o.cycle)return!1;this.$target=t("section:first")}else this.$target=t("section.active").next();else{if(!this.o.cycle)return!1;this.$target=t("section:first")}this.o.before(this.$target,this),this._scrollTo()},_mouseWheel:function(){var e=this;t(document).on("mousewheel.onepagescroll",e.el,function(t,i,s,n){i>0?e._prev():e._next()})},_resize:function(){var e=this;t(window).resize(function(i){t("section.active",e.$el).length&&e.$el.css({"margin-top":-t("section.active",e.$el).position().top+"px"})})}}}(jQuery,document,window,void 0);