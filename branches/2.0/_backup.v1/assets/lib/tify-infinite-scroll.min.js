var tify_infinite_scroll_xhr,tify_infinite_scroll;!function(t,i,r,l){tify_infinite_scroll=function(i,r){$target=r?t(r):t(i).prev(),t(window).scroll(function(r){tify_infinite_scroll_xhr===l&&!t(this).hasClass("ty_iscroll_complete")&&function(i){var r=i.offset();if(!r)return!1;var l=t(window).scrollTop(),e=l+t(window).height(),a=r.top,o=a+i.outerHeight(!0);return a>l&&a<e||o>l&&o<e||l>=a&&l<=o||e>=a&&e<=o}(t(i))&&t(i).trigger("click")}),t(i).click(function(r){if(t(this).hasClass("ty_iscroll_complete"))return!1;$target.addClass("ty_iscroll_load"),t(i).addClass("ty_iscroll_load");var e=t(this).data("action"),a=t(this).data("query_args"),o=t(this).data("before"),s=t(this).data("after"),_=t(this).data("per_page"),n=t(this).data("template"),c=t("> *",$target).length;tify_infinite_scroll_xhr=t.post(tify_ajaxurl,{action:e,query_args:a,before:o,after:s,per_page:_,template:n,from:c},function(r){$target.removeClass("ty_iscroll_load"),t(i).removeClass("ty_iscroll_load"),$target.append(r);r.match(/<!-- tiFy_Infinite_Scroll_End -->/)&&($target.addClass("ty_iscroll_complete"),t(i).addClass("ty_iscroll_complete")),$target.trigger("ty_iscroll_loaded",t(i)),tify_infinite_scroll_xhr.abort(),tify_infinite_scroll_xhr=l})})}}(jQuery,document,window,void 0);