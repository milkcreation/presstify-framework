!function(r,t,e,i){"use strict";var a="tify-onepage-scroll",o={init:function(a){return this.each(function(t,e){new n(this,a)})}};function n(t,e){this.$el=r(t),this.$target,this.$el.data(a,this);this.$el.data(a+"-opts");this.defaults={easing:"swing",speed:300,sum:!0,cycle:!1,before:function(t,e){return!1},after:function(t,e){return!1}},this.o=r.extend(!0,this.defaults,e),this.init()}r.fn.tiFyOnePageScroll=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void r.error("La methode "+t+" n'existe pas pour jQuery.tiFyOnePageScroll"):o.init.apply(this,arguments)},n.prototype={init:function(){this._current(),this._listen()},_current:function(){var t=this;if(r('[data-tify-onepage-scroll="section"].active',t.$el).length)t.$target=r('[data-tify-onepage-scroll="section"].active',t.$el);else{var e=r(window).scrollTop();t.$target=r('[data-tify-onepage-scroll="section"]:first',t.$el),r('[data-tify-onepage-scroll="section"]',t.$el).each(function(){if(!(e>r(this).offset().top))return!1;t.$target=r(this)})}t._scrollTo()},_listen:function(){var t=this;t._nav(),t._mouseWheel(),t._events()},_nav:function(){var t,e=this;if((t=document.URL.split("#"))&&t[1]!=i){var a="#"+t[1];e.$target=r(a),e._scrollTo()}r(document).on("click.tify.onepage-scroll.target","a[data-tify-onepage-scroll='target']",function(t){return t.preventDefault(),!e.$el.is(":animated")&&(a=r(this).data("target")?r(this).data("target"):r(this).attr("href"),!r(a).hasClass("active")&&(e.$target=r(a),!!e.$target.length&&(e.o.before(e.$target,e),void e._scrollTo())))}),r(document).on("click.tify.onepage-scroll.prev","a[data-tify-onepage-scroll='prev']",function(t){t.preventDefault(),e._prev()}),r(document).on("click.tify.onepage-scroll.next","a[data-tify-onepage-scroll='next']",function(t){t.preventDefault(),e._next()})},_scrollTo:function(){var e=this,t=e.$target.index(),a=r('[data-tify-onepage-scroll="section"].active',e.$el).index();if(e.o.sum)var i=Math.abs(a-t),o=Math.abs(e.o.speed*i);else o=e.o.speed;var n=e.$target.offset().top;e.$target.data("offset")&&(n+=e.$target.data("offset")),r('[data-tify-onepage-scroll="section"]',e.$el).removeClass("active"),r("a[data-tify-onepage-scroll='target']").each(function(){r(this).removeClass("active")}),r("a[data-tify-onepage-scroll='target'][data-target='#"+e.$target.attr("id")+"'], a[data-tify-onepage-scroll='target'][href='#"+e.$target.attr("id")+"']").each(function(){r(this).addClass("active")}),r("html, body").animate({scrollTop:n},o,e.o.easing,function(t){e.$target.addClass("active"),e.o.after(e.$target,e)})},_prev:function(){var t=this;if(t.$el.is(":animated"))return!1;if(r('[data-tify-onepage-scroll="section"].active',t.$el).length)if(r('[data-tify-onepage-scroll="section"].active',t.$el).is(":first-child")){if(!t.o.cycle)return!1;t.$target=r('[data-tify-onepage-scroll="section"]:last')}else t.$target=r('[data-tify-onepage-scroll="section"].active').prev();else{if(!t.o.cycle)return!1;t.$target=r('[data-tify-onepage-scroll="section"]:last')}t.o.before(t.$target,t),t._scrollTo()},_next:function(){var t=this;if(t.$el.is(":animated"))return!1;if(r('[data-tify-onepage-scroll="section"].active',t.$el).length)if(r('[data-tify-onepage-scroll="section"].active',t.$el).is(":last-child")){if(!t.o.cycle)return!1;t.$target=r('[data-tify-onepage-scroll="section"]:first')}else t.$target=r('[data-tify-onepage-scroll="section"].active').next();else{if(!t.o.cycle)return!1;t.$target=r('[data-tify-onepage-scroll="section"]:first')}t.o.before(t.$target,t),t._scrollTo()},_mouseWheel:function(){var o=this;r(document).on("mousewheel.onepagescroll",o.el,function(t,e,a,i){0<e?o._prev():o._next()})},_events:function(){var t=this;t.resizeTimer,r(window).resize(function(){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t._scrollTo()},100)})}}}(jQuery,document,window,void 0);