var tify_scroll_paginate_xhr,tify_scroll_paginate;!function(o,t,a,l){tify_scroll_paginate=function(t,a){var n=a?o(a):o(t).prev();n.length&&(o(window).scroll(function(a){tify_scroll_paginate_xhr===l&&!n.hasClass("tiFyCoreControl-ScrollPaginateComplete")&&function(t){var a=t.offset();if(!a)return!1;var l=o(window).scrollTop(),n=l+o(window).height(),e=a.top,r=e+t.outerHeight(!0);return e>l&&e<n||r>l&&r<n||l>=e&&l<=r||n>=e&&n<=r}(o(t))&&o(t).trigger("click")}),o(document).on("click",t,function(a){if(o(this).hasClass("tiFyCoreControl-ScrollPaginate--complete"))return!1;var e=o(t),r=JSON.parse(decodeURIComponent(o(this).data("options"))),i=o("> *",n).length;n.addClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--target"),o(t).addClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--handler"),n.trigger("tify_control.scroll_paginate.loading",e),tify_scroll_paginate_xhr=o.post(tify_ajaxurl,{action:r.ajax_action,_ajax_nonce:r.ajax_nonce,options:r,offset:i}).done(function(o,t,a){console.log(o),n.append(o.html),o.complete&&(n.addClass("tiFyCoreControl-ScrollPaginateComplete tiFyCoreControl-ScrollPaginateComplete--target"),e.addClass("tiFyCoreControl-ScrollPaginateComplete tiFyCoreControl-ScrollPaginateComplete--handler"))}).then(function(o,t,a){n.removeClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--target"),e.removeClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--handler"),n.trigger("tify_control.scroll_paginate.loaded",e),tify_scroll_paginate_xhr=l})}))}}(jQuery,document,window,void 0);