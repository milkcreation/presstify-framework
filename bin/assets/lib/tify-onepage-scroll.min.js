!function(t,e,a,i){"use strict";function o(e,a){this.$el=t(e),this.$target,this.$el.data(n,this);this.$el.data(n+"-opts");this.defaults={easing:"swing",speed:300,sum:!0,cycle:!1,before:function(t,e){return!1},after:function(t,e){return!1}},this.o=t.extend(!0,this.defaults,a),this.init()}var n="tify-onepage-scroll",r={init:function(t){return this.each(function(e,a){new o(this,t)})}};t.fn.tiFyOnePageScroll=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("La methode "+e+" n'existe pas pour jQuery.tiFyOnePageScroll"):r.init.apply(this,arguments)},o.prototype={init:function(){var t=this;t._current(),t._listen()},_current:function(){var e=this;if(t('[data-tify-onepage-scroll="section"].active',e.$el).length)e.$target=t('[data-tify-onepage-scroll="section"].active',e.$el);else{var a=t(window).scrollTop();e.$target=t('[data-tify-onepage-scroll="section"]:first',e.$el),t('[data-tify-onepage-scroll="section"]',e.$el).each(function(){if(!(a>t(this).offset().top))return!1;e.$target=t(this)})}e._scrollTo()},_listen:function(){var t=this;t._nav(),t._mouseWheel(),t._events()},_nav:function(){var e,a=this;if((e=document.URL.split("#"))&&e[1]!=i){var o="#"+e[1];a.$target=t(o),a._scrollTo()}t(document).on("click.tify.onepage-scroll.target","a[data-tify-onepage-scroll='target']",function(e){return e.preventDefault(),!a.$el.is(":animated")&&(o=t(this).data("target")?t(this).data("target"):t(this).attr("href"),!t(o).hasClass("active")&&(a.$target=t(o),!!a.$target.length&&(a.o.before(a.$target,a),void a._scrollTo())))}),t(document).on("click.tify.onepage-scroll.prev","a[data-tify-onepage-scroll='prev']",function(t){t.preventDefault(),a._prev()}),t(document).on("click.tify.onepage-scroll.next","a[data-tify-onepage-scroll='next']",function(t){t.preventDefault(),a._next()})},_scrollTo:function(){var e=this,a=e.$target.index(),i=t('[data-tify-onepage-scroll="section"].active',e.$el).index();if(e.o.sum)var o=Math.abs(i-a),n=Math.abs(e.o.speed*o);else n=e.o.speed;var r=e.$target.offset().top;e.$target.data("offset")&&(r+=e.$target.data("offset")),t('[data-tify-onepage-scroll="section"]',e.$el).removeClass("active"),t("a[data-tify-onepage-scroll='target']").each(function(){t(this).removeClass("active")}),t("a[data-tify-onepage-scroll='target'][data-target='#"+e.$target.attr("id")+"'], a[data-tify-onepage-scroll='target'][href='#"+e.$target.attr("id")+"']").each(function(){t(this).addClass("active")}),t("html, body").animate({scrollTop:r},n,e.o.easing,function(t){e.$target.addClass("active"),e.o.after(e.$target,e)})},_prev:function(){var e=this;if(e.$el.is(":animated"))return!1;if(t('[data-tify-onepage-scroll="section"].active',e.$el).length)if(t('[data-tify-onepage-scroll="section"].active',e.$el).is(":first-child")){if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:last')}else e.$target=t('[data-tify-onepage-scroll="section"].active').prev();else{if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:last')}e.o.before(e.$target,e),e._scrollTo()},_next:function(){var e=this;if(e.$el.is(":animated"))return!1;if(t('[data-tify-onepage-scroll="section"].active',e.$el).length)if(t('[data-tify-onepage-scroll="section"].active',e.$el).is(":last-child")){if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:first')}else e.$target=t('[data-tify-onepage-scroll="section"].active').next();else{if(!e.o.cycle)return!1;e.$target=t('[data-tify-onepage-scroll="section"]:first')}e.o.before(e.$target,e),e._scrollTo()},_mouseWheel:function(){var e=this;t(document).on("mousewheel.onepagescroll",e.el,function(t,a,i,o){a>0?e._prev():e._next()})},_events:function(){var e=this;e.resizeTimer,t(window).resize(function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e._scrollTo()},100)})}}}(jQuery,document,window,void 0);