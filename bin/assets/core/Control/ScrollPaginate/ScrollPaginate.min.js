var tify_scroll_paginate_xhr,tify_scroll_paginate;!function(r,o,t,i){tify_scroll_paginate=function(n,o){var e=o?r(o):r(n).prev();e.length&&(r(window).scroll(function(o){tify_scroll_paginate_xhr===i&&!e.hasClass("tiFyCoreControl-ScrollPaginateComplete")&&function(o){var t=o.offset();if(!t)return!1;var a=r(window).scrollTop(),l=a+r(window).height(),n=t.top,e=n+o.outerHeight(!0);return a<n&&n<l||a<e&&e<l||n<=a&&a<=e||n<=l&&l<=e}(r(n))&&r(n).trigger("click")}),r(document).on("click",n,function(o){if(r(this).hasClass("tiFyCoreControl-ScrollPaginate--complete"))return!1;var l=r(n),t=JSON.parse(decodeURIComponent(r(this).data("options"))),a=r("> *",e).length;e.addClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--target"),r(n).addClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--handler"),e.trigger("tify_control.scroll_paginate.loading",l),tify_scroll_paginate_xhr=r.post(tify_ajaxurl,{action:t.ajax_action,_ajax_nonce:t.ajax_nonce,options:t,offset:a}).done(function(o,t,a){console.log(o),e.append(o.html),o.complete&&(e.addClass("tiFyCoreControl-ScrollPaginateComplete tiFyCoreControl-ScrollPaginateComplete--target"),l.addClass("tiFyCoreControl-ScrollPaginateComplete tiFyCoreControl-ScrollPaginateComplete--handler"))}).then(function(o,t,a){e.removeClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--target"),l.removeClass("tiFyCoreControl-ScrollPaginateLoading tiFyCoreControl-ScrollPaginateLoading--handler"),e.trigger("tify_control.scroll_paginate.loaded",l),tify_scroll_paginate_xhr=i})}))}}(jQuery,document,window,void 0);