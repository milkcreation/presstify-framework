!function(o){o.widget("tify.tiFyProgress",{options:{value:0,max:100,step:1,info:"",show:!1,close:function(t,i){i.close()}},_create:function(){this.el=this.element,this.bar=o('[data-role="bar"]',this.el),this.indicator=o('[data-role="indicator"]',this.el),this.closeButton=o('[data-role="close"]',this.el),this.info=o('[data-role="info"]',this.el),this.options.max=this.bar.data("max"),this._on(this.closeButton,{click:function(t){this._trigger("close",t,this)}}),this._update()},_update:function(){this.value(this.options.value),this.options.info&&this.infos(this.options.info),this.options.show&&this.open()},_setOptions:function(t,i){this.options[t]=i},_changeValue:function(t){var i=this.options.max;i<t&&(t=i);var o=(t/i*100).toFixed(2);return this.bar.css("background-position","-"+o+"% 0"),this.indicator.text(o+"%"),t},option:function(t,i){"object"==typeof t?this.options=o.extend(this.options,t):this._setOptions(t,i),this._update()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._changeValue(t)},increase:function(){value=this.options.value+this.options.step,value>this.options.max&&(value=this.options.max),this.value(value)},decrease:function(){value=this.options.value-this.options.step,value<0&&(value=0),this.value(value)},open:function(){this.el.show()},close:function(){this.el.hide()},reset:function(){this.value(0)},infos:function(t){this.info.html(t).hide().fadeIn()}}),o('[data-tify_control="progress"]').tiFyProgress()}(jQuery);