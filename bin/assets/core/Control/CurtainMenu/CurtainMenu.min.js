!function(t,e,n){t.widget("tify.tiFyControlCurtainMenu",{options:{},_create:function(){this.el=this.element,this.level=0,this.levels=t(".tiFyControlCurtainMenu-panel",this.el),this.levelBacks=t('[data-toggle="curtain_menu-back"]',this.el),this.levels.each(function(){var e=t(this).parents(".tiFyControlCurtainMenu-panel").length+1;t(this).attr("data-level",e)}),this.menuItems=t("li",this.el),this._initEvents()},_initEvents:function(){var e=this;this.menuItems.each(function(n,l){var i=t("> .tiFyControlCurtainMenu-panel",l);i.length&&t("> a",l).on("click",function(n){n.preventDefault();var l=t(this).closest(".tiFyControlCurtainMenu-panel").attr("data-level");e.level<=l&&(n.stopPropagation(),e._openMenu(i))})}),this.levelBacks.each(function(n,l){var i=t(l).closest(".tiFyControlCurtainMenu-panel");i.length&&t(l).on("click",function(t){t.preventDefault();var n=i.attr("data-level");e.level<=n&&(t.stopPropagation(),e._closeMenu(i))})})},_openMenu:function(t){++this.level,t.addClass("tiFyControlCurtainMenu-panel--open");var e=t.closest("li").closest(".tiFyControlCurtainMenu-panel");e.length&&e.scrollTop(0)},_closeMenu:function(t){--this.level,t.removeClass("tiFyControlCurtainMenu-panel--open");t.closest("li").closest(".tiFyControlCurtainMenu-panel")}}),t('[data-tify_control="curtain_menu"]').tiFyControlCurtainMenu()}(jQuery,document,window);