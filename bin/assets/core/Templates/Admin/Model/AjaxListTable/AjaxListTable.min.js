var AjaxListTable;jQuery(document).ready(function(i){i(".hide-column-tog").unbind(),i.extend(i.fn.dataTable.defaults,{columns:tiFyTemplatesAdminAjaxListTable.columns,iDisplayLength:parseInt(tiFyTemplatesAdminAjaxListTable.per_page),order:[],language:tiFyTemplatesAdminAjaxListTable.language,dom:"rt"});var a=i(".wp-list-table"),t={},e={processing:!0,serverSide:!0,deferLoading:[tiFyTemplatesAdminAjaxListTable.total_items,tiFyTemplatesAdminAjaxListTable.per_page],ajax:{url:tify_ajaxurl,data:function(a){if(a=i.extend(a,t,{action:tiFyTemplatesAdminAjaxListTable.action_prefix+"_get_items"}),i("#ajaxDatatablesData").val()){var e=JSON.parse(decodeURIComponent(i("#ajaxDatatablesData").val()));a=i.extend(a,e)}return a},dataType:"json",method:"GET",dataSrc:function(a){return i(".search-box").length||i(a.search_form).insertBefore(".tablenav.top"),i(".tablenav-pages").each(function(){i(this).replaceWith(a.pagination)}),a.data}},drawCallback:function(a){this.api()},initComplete:function(a,e){i.each(AjaxListTable.columns().visible(),function(a,e){var t=AjaxListTable.settings()[0].aoColumns[a].name;i('.hide-column-tog[name="'+t+'-hide"]').prop("checked",e)}),i(".hide-column-tog").change(function(a){a.preventDefault();var e=i(this),t=AjaxListTable.column(e.val()+":name");return t.visible(!t.visible()),!1}),i("form#adv-settings").submit(function(a){a.preventDefault();var e=parseInt(i(".screen-per-page",i(this)).val());return i.post(tify_ajaxurl,{action:tiFyTemplatesAdminAjaxListTable.action_prefix+"_per_page",per_page:e},function(){i("#show-settings-link").trigger("click")}),AjaxListTable.page.len(e).draw(),!1}),i("#table-filter").submit(function(a){return a.preventDefault(),t={},i.each(i(this).serializeArray(),function(a,e){if("_wpnonce"===e.name||"_wp_http_referer"===e.name||"s"===e.name||"paged"===e.name)return!0;t[e.name]=e.value}),AjaxListTable.draw(!0),!1}),i(document).on("click",".tablenav-pages a",function(a){a.preventDefault();var e=0;return i(this).hasClass("next-page")?e="next":i(this).hasClass("prev-page")?e="previous":i(this).hasClass("first-page")?e="first":i(this).hasClass("last-page")&&(e="last"),AjaxListTable.page(e).draw("page"),!1}),i(document).on("click",".search-box #search-submit",function(a){a.preventDefault();var e=i(this).prev().val();return AjaxListTable.search(e).draw(),!1})}};e=i.extend(e,tiFyTemplatesAdminAjaxListTable.options),AjaxListTable=a.DataTable(e)});