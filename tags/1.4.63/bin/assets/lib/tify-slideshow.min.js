!function(n,e,t,s){"use strict";var r="tify-slideshow",i={init:function(r){return this.each(function(e,t){new a(this,r)})}};function a(i,e){this.$el=n(i),this.$viewer=n(".viewer",this.$el),this.$roller=n(".roller",this.$el),this.dir="next",this.$el.data(r,this);this.$el.data(r+"-opts");this.defaults={interval:5e3,pause:"hover",transition:"slideLeft",speed:500,easing:"easeInOutExpo",resize:!0,bypage:1,draggable:!0,before:function(e,t,r){return!1},after:function(e,t,r){return!1},beforeInit:function(){return!1},afterInit:function(){return!1},onResize:function(e,t){return!1}};var a={};n.each(this.defaults,function(e,t){var r=n(i).data(e);a[e]=r!=s?r:t}),this.defaults=a,this.o=n.extend(!0,this.defaults,e),this.init()}n.fn.tiFySlideshow=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("La methode "+e+" n'existe pas pour jQuery.tiFySlideshow"):i.init.apply(this,arguments)},a.prototype={init:function(){var e=this;n("> li",e.$roller).each(function(e,t){n(this).attr("data-index",e)}),e._style(),e.$current=n("> li:eq(0)",e.$roller),e.currentIndex=0,e._setCurrent(),e.$viewer.scrollLeft(0),e.gap=1,e.o.beforeInit(),n("> li",e.$roller).length<=e.o.bypage&&n("[data-arrownav], [data-tabnav]",e.$el).hide(),e._listen(),0<e.o.interval&&e._auto(),e.o.afterInit()},_style:function(){var e=this;switch(e.o.transition){case"slideLeft":n("> li",e.$roller).each(function(){n(this).css({width:n(".viewer",e.$el).width()/e.o.bypage+"px"})})}},_auto:function(){var e=this;e.interval=setInterval(function(){e.autoscroll=!0,e.dir=n(this).hasClass("prev")?"prev":"next",e.$current=n("> li.active",e.$roller),"prev"===e.dir?e.$current.is(":first-child")?e.$target=n("> li:last",e.$roller):e.$target=e.$current.prev():e.$current.is(":last-child")?e.$target=n("> li:first",e.$roller):e.$target=e.$current.next(),e.targetIndex=e.$target.data("index"),e._slide()},e.o.interval)},_listen:function(){var t=this;0<t.o.interval&&("hover"===t.o.pause?t.$el.hover(function(e){t.autoscroll=!1,clearTimeout(t.setprogress),clearTimeout(t.interval)},function(){t._auto()}):t._auto()),t.o.draggable&&t._drag(),t._nav(),t.o.resize&&t._resize()},_drag:function(){var r=this;n("> li",r.$roller).draggable({axis:"x",stop:function(e,t){t.position.left<0?r.dir="next":r.dir="prev",r._slide()}})},_nav:function(){var r=this;n("[data-arrownav]",r.$el).click(function(e){if(e.preventDefault(),r.$viewer.is(":animated"))return!1;r.dir="prev"===n(this).data("arrownav")?"prev":"next",r._slide()}),n("[data-tabnav]",r.$el).click(function(e){if(e.preventDefault(),r.$viewer.is(":animated"))return!1;var t=n(this).data("tabnav");n("[data-tabnav]",r.$el).closest("li.active").index()>t?r.dir="prev":r.dir="next",r.$target=n("> li[data-index='"+n(this).closest("li").index()+"']",r.$roller),r._slide()})},_slide:function(){var e=this;e.$current=n("> li.active",e.$roller),e.$current.removeClass("animated"),e.$target||("prev"===e.dir?e.$current.is(":first-child")?e.$target=n("> li:last",e.$roller):e.$target=e.$current.prev():e.$current.is(":last-child")?e.$target=n("> li:first",e.$roller):e.$target=e.$current.next()),e.$target.addClass("animated");var t=e.$roller.position().left,r=e.$target.position().left;switch(e.targetIndex=e.$target.data("index"),e.gap=e.targetIndex-e.currentIndex,e.o.transition){case"slideLeft":if("prev"===e.dir){n("> li",e.$roller).slice(0,e.gap).each(function(){n(this).appendTo(e.$roller)});var i=e.gap<0?-e.gap:1;e.o.before(e.dir,e.$target,e),e.$viewer.scrollLeft(e.$target.outerWidth()*i),e.$viewer.stop().animate({scrollLeft:0},e.o.speed,e.o.easing,function(){e.$current.css("left",0),e.o.after(e.dir,e.$target,e),e.$current=e.$target,e._setCurrent(),e._reset()})}else e.o.before(e.dir,e.$target,e),e.$viewer.stop().animate({scrollLeft:r-t},e.o.speed,e.o.easing,function(){e.$current.css("left",0),e.o.after(e.dir,e.$target,e),e.$current=e.$target,e._setCurrent(),n("> li",e.$roller).slice(0,e.gap).each(function(){n(this).appendTo(e.$roller)}),e._reset()});break;case"fadeIn":if("prev"===e.dir){for(var a=0;a<-gap;a++)n("> li:last",e.$roller).prependTo(e.$roller);e.o.before(e.dir,e.$target,e),e.$target.hide(),e.$current.fadeOut(function(){e.o.after(e.dir,e.$target,e),e.$current=e.$target,e._setCurrent(),e._reset()})}else e.o.before(e.dir,e.$target,e),e.$target.hide(),e.$current.fadeOut(function(){e.$target.fadeIn(),e.o.after(e.dir,e.$target,e),e.$current=e.$target,e._setCurrent(),n("> li",e.$roller).slice(0,gap).each(function(){n(this).appendTo(e.$roller)}),e._reset()})}},_setCurrent:function(){var e=this;e.$current.addClass("active").siblings().removeClass("active"),e.currentIndex=e.$current.data("index"),n('[data-tabnav="'+e.currentIndex+'"]',e.$el).closest("li").addClass("active").siblings().removeClass("active")},_reset:function(){this.$target=s,this.$viewer.scrollLeft(0)},_resize:function(){var i=this;n(window).resize(function(e){i.o.onResize(i.$current,i),n("> li",i.$roller).css("width",i.$viewer.width()/i.o.bypage+"px");var t=i.$roller.position().left,r=i.$current.position().left;i.$viewer.scrollLeft(r-t)})}}}(jQuery,document,window,void 0),jQuery(document).ready(function(e){e('[data-tify="slideshow"]').tiFySlideshow()});