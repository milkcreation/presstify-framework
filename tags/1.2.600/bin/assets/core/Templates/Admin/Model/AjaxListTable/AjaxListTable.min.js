var AjaxListTable;jQuery(document).ready(function(a){a(".hide-column-tog").unbind(),a.extend(a.fn.dataTable.defaults,{columns:tiFyTemplatesAdminAjaxListTable.columns,iDisplayLength:parseInt(tiFyTemplatesAdminAjaxListTable.per_page),order:[],language:tiFyTemplatesAdminAjaxListTable.language,dom:"rt"});var e=a(".wp-list-table"),t={},i={processing:!0,serverSide:!0,deferLoading:[tiFyTemplatesAdminAjaxListTable.total_items,tiFyTemplatesAdminAjaxListTable.per_page],ajax:{url:tify_ajaxurl,data:function(e){if(e=a.extend(e,t,{action:tiFyTemplatesAdminAjaxListTable.action_prefix+"_get_items"}),a("#ajaxDatatablesData").val()){var i=JSON.parse(decodeURIComponent(a("#ajaxDatatablesData").val()));e=a.extend(e,i)}return e},dataType:"json",method:"GET",dataSrc:function(e){return a(".search-box").length||a(e.search_form).insertBefore(".tablenav.top"),a(".tablenav-pages").each(function(){a(this).replaceWith(e.pagination)}),e.data}},drawCallback:function(a){this.api()},initComplete:function(e,i){a.each(AjaxListTable.columns().visible(),function(e,t){var i=AjaxListTable.settings()[0].aoColumns[e].name;a('.hide-column-tog[name="'+i+'-hide"]').prop("checked",t)}),a(".hide-column-tog").change(function(e){e.preventDefault();var t=a(this),i=AjaxListTable.column(t.val()+":name");return i.visible(!i.visible()),!1}),a("form#adv-settings").submit(function(e){e.preventDefault();var t=parseInt(a(".screen-per-page",a(this)).val());return a.post(tify_ajaxurl,{action:tiFyTemplatesAdminAjaxListTable.action_prefix+"_per_page",per_page:t},function(){a("#show-settings-link").trigger("click")}),AjaxListTable.page.len(t).draw(),!1}),a("#table-filter").submit(function(e){return e.preventDefault(),t={},a.each(a(this).serializeArray(),function(a,e){if("_wpnonce"===e.name||"_wp_http_referer"===e.name||"s"===e.name||"paged"===e.name)return!0;t[e.name]=e.value}),AjaxListTable.draw(!0),!1}),a(document).on("click",".tablenav-pages a",function(e){e.preventDefault();var t=0;return a(this).hasClass("next-page")?t="next":a(this).hasClass("prev-page")?t="previous":a(this).hasClass("first-page")?t="first":a(this).hasClass("last-page")&&(t="last"),AjaxListTable.page(t).draw("page"),!1}),a(document).on("click",".search-box #search-submit",function(e){e.preventDefault();var t=a(this).prev().val();return AjaxListTable.search(t).draw(),!1})}};i=a.extend(i,tiFyTemplatesAdminAjaxListTable.options),AjaxListTable=e.DataTable(i)});