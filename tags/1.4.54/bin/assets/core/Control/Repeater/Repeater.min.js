jQuery(document).ready(function(r){var a;r(document).on("click.tify.control.repeater.add",'[data-tify_control="repeater"] .tiFyControlRepeater-Add',function(t){if(t.stopPropagation(),t.preventDefault(),void 0===a){r(this);$closest=r(this).closest('[data-tify_control="repeater"]'),$list=r(".tiFyControlRepeater-Items",$closest);var e=r(".tiFyControlRepeater-Item",$list).length,o=r(this).data("attrs");if(0<o.max&&e>=o.max)return alert(tiFyControlRepeater.maxAttempt),!1;a=r.post(tify_ajaxurl,{action:o.ajax_action,_ajax_nonce:o.ajax_nonce,index:e,attrs:o},function(t){$el=r(t),$list.append($el)}).done(function(){$el.trigger("tify_control_repeater_item_added")}).always(function(){a=void 0})}}),r(".tiFyControlRepeater-Items--sortable").sortable({placeholder:"tiFyControlRepeater-ItemPlaceholder",axis:"y"}).disableSelection(),r(document).on("click.tify.control.repeater.remove",'[data-tify_control="repeater"] .tiFyControlRepeater-Item > .tify_button_remove',function(t){t.preventDefault(),r(this).closest(".tiFyControlRepeater-Item").fadeOut(function(){r(document).trigger("tify_control_repeater_item_removed",[r(this)]),r(this).remove()})})});