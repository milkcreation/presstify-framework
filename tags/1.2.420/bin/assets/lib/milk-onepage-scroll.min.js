!function(e,t,i,n){"use strict";function o(t,i){this.$el=e(t),this.$target,this.$el.data(a,this);this.$el.data(a+"-opts");this.defaults={easing:"swing",speed:300,"max-width":0,cycle:!1,scroller:"",before:function(e,t){return!1},after:function(e,t){return!1}},this.o=e.extend(!0,this.defaults,i),this.init()}var a="milk-onepage-scroll",r={init:function(e){return this.each(function(t,i){new o(this,e)})}};e.fn.milkOnePageScroll=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("La methode "+t+" n'existe pas pour jQuery.milkOnePageScroll"):r.init.apply(this,arguments)},o.prototype={init:function(){var t=this;e("section.active",t.$el).length||(t.$target=e("section:first",t.$el).addClass("active")),t._listen()},_listen:function(){var e=this;e._nav(),e._mouseWheel(),e._resize()},_nav:function(){var t,i=this;if((t=document.URL.split("#"))&&t[1]!=n){var o="#"+t[1];i.$target=e(o),i._scrollTo()}e(document).on("click.onepagescroll.target","a[data-pagescroll='target']",function(t){if(t.preventDefault(),i.$el.is(":animated"))return!1;var n=e(this).attr("href");return!e(n).hasClass("active")&&(i.$target=e(n),!!i.$target.length&&(i.o.before(i.$target,i),void i._scrollTo()))}),e(document).on("click.onepagescroll.prev","a[data-pagescroll='prev']",function(e){e.preventDefault(),i._prev()}),e(document).on("click.onepagescroll.next","a[data-pagescroll='next']",function(e){e.preventDefault(),i._next()})},_scrollTo:function(){var t=this,i=t.$target.index(),n=e("section.active",t.$el).index(),o=Math.abs(n-i),a=Math.abs(t.o.speed*o),r=t.$target.height()*i;e("section",t.$el).removeClass("active"),t.$el.stop().animate({marginTop:-r+"px"},a,t.o.easing,function(){t.$target.addClass("active"),t.o.after(t.$target,t)})},_prev:function(){var t=this;if(t.$el.is(":animated"))return!1;if(e("section.active",t.$el).length)if(e("section.active",t.$el).is(":first-child")){if(!t.o.cycle)return!1;t.$target=e("section:last")}else t.$target=e("section.active").prev();else{if(!t.o.cycle)return!1;t.$target=e("section:last")}t.o.before(t.$target,t),t._scrollTo()},_next:function(){var t=this;if(t.$el.is(":animated"))return!1;if(e("section.active",t.$el).length)if(e("section.active",t.$el).is(":last-child")){if(!t.o.cycle)return!1;t.$target=e("section:first")}else t.$target=e("section.active").next();else{if(!t.o.cycle)return!1;t.$target=e("section:first")}t.o.before(t.$target,t),t._scrollTo()},_mouseWheel:function(){var t=this;e(document).on("mousewheel.onepagescroll",t.el,function(e,i,n,o){i>0?t._prev():t._next()})},_resize:function(){var t=this;e(window).resize(function(i){e("section.active",t.$el).length&&t.$el.css({"margin-top":-e("section.active",t.$el).position().top+"px"})})}}}(jQuery,document,window,void 0);