var tify_infinite_scroll_xhr,tify_infinite_scroll;!function(n,t,i,c){tify_infinite_scroll=function(_,t){$target=t?n(t):n(_).prev(),n(window).scroll(function(t){tify_infinite_scroll_xhr===c&&!n(this).hasClass("ty_iscroll_complete")&&function(t){var i=t.offset();if(!i)return!1;var r=n(window).scrollTop(),l=r+n(window).height(),e=i.top,a=e+t.outerHeight(!0);return r<e&&e<l||r<a&&a<l||e<=r&&r<=a||e<=l&&l<=a}(n(_))&&n(_).trigger("click")}),n(_).click(function(t){if(n(this).hasClass("ty_iscroll_complete"))return!1;$target.addClass("ty_iscroll_load"),n(_).addClass("ty_iscroll_load");var i=n(this).data("action"),r=n(this).data("query_args"),l=n(this).data("before"),e=n(this).data("after"),a=n(this).data("per_page"),o=n(this).data("template"),s=n("> *",$target).length;tify_infinite_scroll_xhr=n.post(tify_ajaxurl,{action:i,query_args:r,before:l,after:e,per_page:a,template:o,from:s},function(t){$target.removeClass("ty_iscroll_load"),n(_).removeClass("ty_iscroll_load"),$target.append(t),t.match(/<!-- tiFy_Infinite_Scroll_End -->/)&&($target.addClass("ty_iscroll_complete"),n(_).addClass("ty_iscroll_complete")),$target.trigger("ty_iscroll_loaded",n(_)),tify_infinite_scroll_xhr.abort(),tify_infinite_scroll_xhr=c})})}}(jQuery,document,window,void 0);